<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Casa</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ====== TOP BAR ====== -->
  <header class="topbar">
    <div class="left">
      <button class="home-btn" aria-label="Casa">
        <svg class="ico-home" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3 3 10v11h6v-6h6v6h6V10z"/></svg>
        <span class="home-title" id="homeName">Casa</span>
        <svg class="ico-chev" viewBox="0 0 24 24"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
      </button>
    </div>

    <div class="right">
      <button class="icon-btn" title="Notifiche">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a6 6 0 0 0-6 6v4.3l-1.7 3.3A1 1 0 0 0 5.2 17H19a1 1 0 0 0 .9-1.5L18 12.3V8a6 6 0 0 0-6-6zM8 19a4 4 0 0 0 8 0"/></svg>
      </button>
      <button class="icon-btn" title="Aggiungi">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></svg>
      </button>
      <button class="icon-btn" title="Altro">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 7a2 2 0 110-4 2 2 0 010 4zm0 7a2 2 0 110-4 2 2 0 010 4zm0 7a2 2 0 110-4 2 2 0 010 4z"/></svg>
      </button>

      <!-- Meteo pill -->
      <div id="weatherPill" class="weather-pill" title="Meteo">
        <span class="dot"></span>
        <span id="weatherTemp">9 Â°C</span>
      </div>
    </div>
  </header>

  <main>
    <!-- ====== HOME ====== -->
    <section id="view-home" class="view active">

      <div class="label-ghost">Dashboard</div>

      <!-- Pill cards orizzontali -->
      <div class="cards-row">
        <article class="pill-card">
          <div class="pill-inner">
            <div class="pill-icon">
              <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3.9 12a5 5 0 0 1 5-5h3v2h-3a3 3 0 1 0 0 6h3v2h-3a5 5 0 0 1-5-5Zm6-1h4v2h-4v-2Zm5.1-4h3a5 5 0 1 1 0 10h-3v-2h3a3 3 0 1 0 0-6h-3V7Z"/></svg>
            </div>
            <div class="pill-text">
              <div class="pill-caption">Offline</div>
              <div class="pill-value"><strong id="offlineCount">2</strong> dispositivi</div>
            </div>
          </div>
        </article>

        <article class="pill-card">
          <div class="pill-inner">
            <div class="pill-icon energy">
              <svg viewBox="0 0 24 24"><path fill="currentColor" d="M13 2 3 14h7l-1 8 11-14h-7l1-6z"/></svg>
            </div>
            <div class="pill-text">
              <div class="pill-caption">Energy</div>
              <div class="pill-value"><strong id="energyKwh">10.90</strong> kWh</div>
            </div>
          </div>
        </article>
      </div>

      <div class="label-ghost">Preferiti</div>

      <!-- Favorite tiles (azzurre) -->
      <section id="favoritesGrid" class="fav-grid">
        <!-- Popolate da JS a partire da APP_CONFIG.tiles (includi Vacanza, Override, Piante) -->
      </section>

      <div class="provider-row">
        <div class="provider">The Weather Channel</div>
        <div id="ts" class="updated">Aggiornamento: 09:48</div>
      </div>
    </section>

    <!-- Altre viste mantenute per la tua app (restano nascoste in questo design) -->
    <section id="view-devices" class="view"><div class="placeholder">Dispositivi</div></section>
    <section id="view-life" class="view"><div class="placeholder">Life</div></section>
    <section id="view-routine" class="view"><div class="placeholder">Routine</div></section>
    <section id="view-menu" class="view"><div class="placeholder">Menu</div></section>
  </main>

  <!-- ====== TAB BAR ====== -->
  <footer class="tabbar">
    <button class="tab active" data-target="home" title="Home">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 3 3 10v11h6v-6h6v6h6V10z"/></svg>
      <span>Home</span>
    </button>
    <button class="tab" data-target="devices" title="Dispositivi">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18v6H3V5zm0 8h8v6H3v-6zm10 0h8v6h-8v-6z"/></svg>
      <span>Dispositivi</span>
    </button>
    <button class="tab has-dot" data-target="life" title="Life">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 21C7 18 4 15 4 11a4 4 0 0 1 7-2 4 4 0 0 1 7 2c0 4-3 7-6 10z"/></svg>
      <span>Life</span>
    </button>
    <button class="tab" data-target="routine" title="Routine">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M7 7h10v2H7V7Zm0 4h10v2H7v-2Zm0 4h6v2H7v-2Z"/></svg>
      <span>Routine</span>
    </button>
    <button class="tab has-dot" data-target="menu" title="Menu">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
      <span>Menu</span>
    </button>
  </footer>

  <!-- SCRIPTS -->
  <script src="config.js"></script>
  <script src="jsonp.js"></script>
  <script src="app.js"></script>
</body>
</html>
``
