<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Casa di Marco â€” Dashboard</title>

  <!-- Il tuo CSS: NON modifico lo stile, resta tutto qui -->
  <link rel="stylesheet" href="style.css?v=2" />
</head>
<body>

  <!-- HEADER -->
  <header class="app-header">
    <div class="header-left">
      <!-- Badge stato (testo aggiornato dal backend se vuoi) -->
      <span class="state-badge" id="stateBadge">COMFY_NIGHT</span>
      <h1 class="app-title">Casa di Marco</h1>
    </div>

    <div class="header-actions">
      <!-- Esempio icone (il tuo CSS gestisce stile/posizione) -->
      <button class="icon-btn" aria-label="Notifiche">
        <span>ğŸ””</span><span class="badge" data-log-badge></span>
      </button>
      <button class="icon-btn" aria-label="Aggiungi"><span>ï¼‹</span></button>

      <!-- Meteo â€œchipâ€: clic su temperatura per Â°C/Â°F -->
      <div class="weather-chip" title="Clic per cambiare unitÃ ">
        <span data-weather-emoji>â›…</span>
        <span data-weather-temp>â€” Â°C</span>
      </div>
    </div>
  </header>

  <!-- SUBHEADER (provider + aggiornamento) -->
  <section class="subheader">
    <div class="sub-left">
      <span class="muted">Provider: <b data-weather-provider>The Weather Channel</b></span>
    </div>
    <div class="sub-right">
      <span class="muted">Aggiornamento: <b data-last-update>â€”:â€”:â€”</b></span>
    </div>
  </section>

  <!-- MAIN -->
  <main class="content">
    <!-- Titolo sezione -->
    <h2 class="section-title">Dashboard</h2>

    <!-- RIGA CARDS TOP -->
    <div class="cards-row">
      <!-- Persone -->
      <article class="card tile tile-people">
        <div class="tile-head">
          <div class="tile-icon">ğŸ”’</div>
          <div class="tile-title">Persone</div>
        </div>
        <div class="tile-body">
          <div class="tile-value">
            <b data-people-summary>â€”</b>
          </div>
          <!-- Opzionale: lista persone -->
          <div class="people-list" data-people-list></div>
        </div>
      </article>

      <!-- Energy -->
      <article class="card tile tile-energy">
        <div class="tile-head">
          <div class="tile-icon">âš¡</div>
          <div class="tile-title">Energy</div>
        </div>
        <div class="tile-body">
          <div class="tile-value">
            <b data-energy-kwh>â€” kWh</b>
          </div>
          <!-- Opzionale: dispositivi offline -->
          <div class="muted">Dispositivi offline: <b data-devices-offline>0</b></div>
        </div>
      </article>
    </div>

    <!-- Preferiti -->
    <h2 class="section-title">Preferiti</h2>

    <div class="cards-grid favorites">
      <!-- Vacanza -->
      <article class="card fav">
        <h3 class="fav-title">Vacanza</h3>
        <div class="fav-actions">
          <button class="btn ok"       data-admin="set_vacanza" data-value="true">Attiva</button>
          <button class="btn outline"  data-admin="set_vacanza" data-value="false">Disattiva</button>
        </div>
      </article>

      <!-- Override -->
      <article class="card fav">
        <h3 class="fav-title">Override</h3>
        <div class="fav-actions">
          <button class="btn warn"     data-admin="set_override" data-value="true">Attiva</button>
          <button class="btn outline"  data-admin="set_override" data-value="false">Disattiva</button>
        </div>
      </article>

      <!-- Piante -->
      <article class="card fav">
        <h3 class="fav-title">Piante</h3>
        <div class="fav-actions">
          <button class="btn" data-admin="piante">Premi per eseguire</button>
        </div>
      </article>

      <!-- Tapparelle â–² -->
      <article class="card fav">
        <h3 class="fav-title">Tapparelle â–²</h3>
        <div class="fav-actions">
          <button class="btn" data-admin="alza_tutto">Premi per eseguire</button>
        </div>
      </article>

      <!-- Tapparelle â–¼ -->
      <article class="card fav">
        <h3 class="fav-title">Tapparelle â–¼</h3>
        <div class="fav-actions">
          <button class="btn danger" data-admin="abbassa_tutto">Premi per eseguire</button>
        </div>
      </article>

      <!-- (Facoltativo) VIMAR esempio per singolo ID -->
      <!--
      <article class="card fav">
        <h3 class="fav-title">VIMAR â€” Sala</h3>
        <div class="fav-actions">
          <button class="btn"         data-vimar="shutter" data-id="SALA_01" data-cmd="up">Sala â†‘</button>
          <button class="btn danger"  data-vimar="shutter" data-id="SALA_01" data-cmd="down">Sala â†“</button>
          <button class="btn outline" data-vimar="shutter" data-id="SALA_01" data-cmd="stop">Sala â– </button>
        </div>
      </article>
      -->
    </div>
  </main>

  <!-- BOTTOM NAV (la tua barra resta identica) -->
  <nav class="bottom-nav">
    <a class="nav-item active" href="#">
      <span class="nav-ic">ğŸ </span><span class="nav-tx">Home</span>
    </a>
    <a class="nav-item" href="#">
      <span class="nav-ic">ğŸ“Ÿ</span><span class="nav-tx">Dispositivi</span>
    </a>
    <a class="nav-item" href="#">
      <span class="nav-ic">ğŸ§¾</span><span class="nav-tx">Log</span>
    </a>
    <a class="nav-item" href="#">
      <span class="nav-ic">ğŸ”</span><span class="nav-tx">Routine</span>
    </a>
    <a class="nav-item" href="#">
      <span class="nav-ic">â˜°</span><span class="nav-tx">Menu</span>
    </a>
  </nav>

  <!-- SCRIPTS: ordine importante -->
  <script src="config.js?v=2"></script>
  <script src="jsonp.js?v=2"></script>
  <script src="app.js?v=2"></script>
</body>
</html>
