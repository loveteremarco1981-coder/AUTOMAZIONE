/* ====== Palette & base ====== */
:root{
  --bg: #0e0f12;
  --bg-elev: #14161a;
  --bg-card: #17191e;
  --line: #22252b;
  --muted: #98a2b3;
  --text: #e6e9ef;
  --accent: #4f8cff;     /* blu primario */
  --good: #2ecc71;
  --warn: #f1c40f;
  --bad:  #ff6b6b;
  --chip-bg: #1d2026;
  --pill: #1a1d23;
  --shadow: 0 6px 18px rgba(0,0,0,0.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:0;
  background:var(--bg);
  color:var(--text);
  font: 500 15px/1.4 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* ====== Top bar ====== */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px;
  background:linear-gradient(180deg, rgba(20,22,26,.95), rgba(20,22,26,.85));
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--line);
}
.topbar .left{display:flex; align-items:center; gap:10px}
.topbar .right{display:flex; align-items:center; gap:10px}

.home-btn{
  display:flex; align-items:center; gap:8px;
  background:transparent; border:0; color:var(--text);
  padding:6px 8px; border-radius:10px; cursor:pointer;
}
.home-btn .ico-home{width:20px;height:20px;color:var(--accent)}
.home-title{font-weight:700; letter-spacing:.2px}
.ico-chev{width:18px;height:18px;color:var(--muted)}

.icon-btn{
  width:36px;height:36px; display:grid; place-items:center;
  background:var(--bg-card); border:1px solid var(--line); color:var(--text);
  border-radius:10px; cursor:pointer;
}
.icon-btn svg{width:20px;height:20px}

.weather-pill{
  display:flex; align-items:center; gap:8px;
  background:var(--pill); border:1px solid var(--line);
  padding:8px 10px; border-radius:999px;
  color:var(--text);
}
.weather-pill .dot{
  width:8px;height:8px;border-radius:50%;
  background:var(--accent); box-shadow:0 0 10px rgba(79,140,255,.8);
}

/* ====== Views ====== */
main{padding:16px 12px 84px 12px} /* spazio per tab bar */

.view{display:none}
.view.active{display:block}

.label-ghost{
  margin:10px 4px 8px; font-size:12px; color:var(--muted);
  text-transform:uppercase; letter-spacing:1px;
}

/* ====== Pill Cards ====== */
.cards-row{
  display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:16px;
}
.pill-card{
  background:var(--bg-card); border:1px solid var(--line);
  border-radius:16px; box-shadow:var(--shadow);
}
.pill-inner{display:flex; align-items:center; gap:12px; padding:14px}
.pill-icon{
  width:40px;height:40px; border-radius:12px;
  background:#12223f; display:grid; place-items:center; color:#72a4ff;
}
.pill-icon.energy{ background:#2a1d13; color:#ff9d4f; }
.pill-icon svg{width:22px;height:22px}
.pill-caption{color:var(--muted); font-size:12px}
.pill-value{font-size:15px}

/* ====== Favorites Grid ====== */
.fav-grid{
  display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-bottom:16px;
}
.fav-grid .fav{
  padding:12px; border-radius:14px;
  background:var(--bg-card); border:1px solid var(--line);
}

/* ====== Provider row ====== */
.provider-row{
  display:flex; align-items:center; justify-content:space-between;
  color:var(--muted); font-size:13px; padding:4px 6px;
}
.provider{opacity:.9}
.updated{opacity:.9}

/* ====== Section blocks ====== */
.section-label{
  margin:14px 6px 10px; font-size:14px;
  color:var(--muted); letter-spacing:.4px;
}

.people-chips{display:flex; flex-wrap:wrap; gap:8px}
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px;
  background:var(--chip-bg); border:1px solid var(--line); color:var(--text);
  font-size:13px;
}
.chip .dot{width:8px;height:8px;border-radius:50%}
.chip .dot.on{background:var(--good)} .chip .dot.off{background:var(--bad)}
.chip.state.neutral{background:#1c1f25; border-color:#262a31}
.chip.state.good{background:#11261a; border-color:#1b4a2b; color:#a9f5c5}
.chip.state.warn{background:#2a2512; border-color:#4a3d1b; color:#ffe6a3}
.chip.state.sec{background:#1f2229; border-color:#2a2f38; color:#b6c2d2}

.list{display:flex; flex-direction:column; gap:8px}
.row{
  display:flex; align-items:center; justify-content:space-between;
  background:var(--bg-card); border:1px solid var(--line); border-radius:12px;
  padding:10px 12px;
}
.row .title{font-weight:600}
.row .sub{font-size:12px; color:var(--muted)}
.row .controls{display:flex; align-items:center; gap:8px}
.small-btn{
  padding:6px 10px; border-radius:10px; cursor:pointer; border:1px solid var(--line);
  background:var(--pill); color:var(--text);
}
.small-btn.primary{border-color:#2d5dff33; background:#0f1a33; color:#93b4ff}

/* ====== Log ====== */
.muted{color:var(--muted); font-size:13px; margin:8px 6px}
.row-head{display:flex; align-items:center; justify-content:space-between; gap:8px}
.pill-btn{
  display:inline-flex; align-items:center; gap:8px; border-radius:12px; border:1px solid var(--line);
  background:var(--pill); color:var(--text); padding:8px 12px; cursor:pointer;
}

/* ====== Placeholder ====== */
.placeholder{
  opacity:.6; padding:20px; background:var(--bg-card); border:1px solid var(--line);
  border-radius:12px; text-align:center;
}

/* ====== Tab bar ====== */
.tabbar{
  position:fixed; left:0; right:0; bottom:0; z-index:10;
  background:var(--bg-elev); border-top:1px solid var(--line);
  display:grid; grid-template-columns:repeat(5,1fr);
  padding:6px 6px 10px; gap:8px;
}
.tab{
  display:flex; flex-direction:column; align-items:center; gap:4px;
  padding:8px 6px; background:transparent; border:0; color:var(--muted);
}
.tab svg{width:22px;height:22px}
.tab.active{color:var(--accent)}
.tab .badge{
  position:absolute; margin-top:-28px; margin-left:12px;
  background:var(--bad); color:white; font-weight:700; font-size:11px;
  border-radius:999px; padding:0 6px; line-height:18px; height:18px;
}

/* ====== Responsive ====== */
@media (max-width:390px){
  .cards-row{grid-template-columns:1fr}
}
