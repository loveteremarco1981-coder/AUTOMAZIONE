:root{
  /* gradient quasi identico allo sfondo dell'app */
  --bg-top:#1a5786;     /* azzurro alto */
  --bg-mid:#1a3f66;     /* blu scuro centrale */
  --bg-btm:#0c1830;     /* blu notte giù */
  --text:#e9eef7;
  --muted:#aab6c7;
  --chip:#0d2036;
  --pill:#0a1a2b;
  --pill-border:#071320;
  --fav-start:#bcd4ea;  /* azzurrini tiles */
  --fav-end:#8cc4d1;
  --tab-bg:rgba(9,16,28,.65);
  --line:rgba(255,255,255,.10);
  --r:18px;
  --blur:18px;
  --shadow:0 12px 28px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;color:var(--text);
  font:15px/1.35 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
  background:
    radial-gradient(120% 80% at 90% -10%, #2a7aa5 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-top) 0%, var(--bg-mid) 42%, var(--bg-btm) 100%);
}

/* ===== TOP BAR ===== */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px 6px; gap:8px;
  background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.10) 60%, transparent);
  backdrop-filter: blur(var(--blur));
}
.home-btn{
  display:flex; align-items:center; gap:6px;
  background:transparent; border:0; color:inherit; padding:6px 8px; border-radius:12px; cursor:pointer;
}
.ico-home{width:18px;height:18px;opacity:.95}
.home-title{font-weight:700;font-size:17px}
.ico-chev{width:16px;height:16px;opacity:.9}
.right{display:flex; align-items:center; gap:6px}
.icon-btn{background:transparent;border:0;color:inherit;padding:6px;border-radius:12px;cursor:pointer}
.icon-btn svg{width:18px;height:18px}

.weather-pill{
  display:inline-flex; align-items:center; gap:6px;
  background:rgba(0,0,0,.35); padding:6px 10px; border-radius:999px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  font-weight:700; color:#fff
}
.weather-pill .dot{
  width:10px;height:10px;border-radius:999px;
  background:#ffcc00; box-shadow:0 0 6px #ffcc00aa;
}

/* ===== CONTENT ===== */
main{padding:8px 10px 90px}

/* label come “Dashboard/Preferiti” */
.label-ghost{
  margin:10px 6px 10px; font-size:13px; color:#d7e0ee; opacity:.85; font-weight:700;
}

/* pill cards orizzontali */
.cards-row{
  display:flex; gap:10px; overflow-x:auto; padding:0 6px 4px;
}
.pill-card{
  min-width:330px; height:76px; border-radius:18px;
  background:linear-gradient(180deg, #0a1726, #0d1f34);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.06),
    inset 0 -6px 18px rgba(0,0,0,.35),
    var(--shadow);
  padding:8px 10px; display:flex; align-items:center;
}
.pill-inner{display:flex; align-items:center; gap:10px}
.pill-icon{
  width:44px;height:44px;border-radius:14px;display:grid;place-items:center;
  background:rgba(255,255,255,.06)
}
.pill-icon.energy{background:rgba(10,132,255,.18)}
.pill-icon svg{width:22px;height:22px}
.pill-text .pill-caption{font-size:12px;color:#b7c4d8}
.pill-text .pill-value{font-size:18px;font-weight:800}

/* grid preferiti */
.fav-grid{
  display:grid; gap:12px; padding:0 6px;
  grid-template-columns:repeat(2, minmax(0,1fr));
}
.tile{
  border-radius:18px;
  background:linear-gradient(180deg, rgba(206,220,233,.85), rgba(164,206,214,.85));
  color:#0c1a2a; min-height:120px; padding:12px;
  box-shadow:0 10px 22px rgba(0,0,0,.30);
  position:relative; overflow:hidden;
}
.tile .device-ico{
  width:34px;height:34px;border-radius:12px;
  background:rgba(0,0,0,.06); display:grid; place-items:center;
  color:#5a6a7d;
}
.tile .edit-btn{
  position:absolute; right:10px; top:10px;
  width:26px;height:26px;border-radius:9px; display:grid; place-items:center;
  background:rgba(0,0,0,.08); color:#2c3a4d;
}
.tile .title{margin-top:8px; font-weight:700}
.tile .state{margin-top:4px; color:#5b6b7e}

/* provider */
.provider-row{
  display:flex; justify-content:space-between; align-items:center;
  margin:16px 8px 0; font-size:12px; color:#d9e2ef;
}
.updated{opacity:.9}

/* placeholder per le altre viste (non principali in questo design) */
.placeholder{opacity:.6; padding:20px}

/* ===== TABBAR ===== */
.tabbar{
  position:fixed; left:0; right:0; bottom:0; z-index:60;
  display:flex; justify-content:space-around; align-items:center;
  padding:8px 8px calc(8px + env(safe-area-inset-bottom));
  background:var(--tab-bg); border-top:1px solid var(--line);
  backdrop-filter: blur(var(--blur));
}
.tab{
  display:flex; flex-direction:column; align-items:center; gap:2px;
  background:transparent; border:0; color:#d6dbea; min-width:64px; padding:2px 6px; cursor:pointer;
  font-weight:600
}
.tab svg{width:22px;height:22px}
.tab.active{color:#ffffff}
.tab.has-dot span{
  position:relative;
}
.tab.has-dot span::after{
  content:""; position:absolute; right:-8px; top:-2px;
  width:6px;height:6px;border-radius:999px;background:#ff3b30;
}

/* views */
.view{display:none}
.view.active{display:block}

/* light mode, opzionale */
@media (prefers-color-scheme:light){
  :root{ --text:#0e1522; --muted:#51617a }
  .tile{ color:#0e1522 }
}
